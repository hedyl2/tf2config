// These configs were generated by the tf2mate configuration file generator by compton.
// Create your own tailored configs at: http://clugu.com/tf2mate/

// Credit for graphics configurations to their respective authors.

// Unexplained crashes? Try changing mat_queue_mode to `-1'.
// ----------------------------------------------------------------------------
// Chris' highframes config, designed to get you a large performance boost
// v2.009 | 20 April 2012 | fakkelbrigade.eu/chris/configs/
// ----------------------------------------------------------------------------
// Problems or questions? Contact me at #christf2 on QuakeNet.
// ----------------------------------------------------------------------------
// Launch options:
// IMPORTANT: Remove -dxlevel 81 from the launch options after the first launch!
//
// Fullscreen: -dxlevel 81 -full -w WIDTH -h HEIGHT -console -novid -useforcedmparms -noforcemaccel -noforcemspd
// Windowed:   -dxlevel 81 -sw -w WIDTH -h HEIGHT -console -noborder -novid -useforcedmparms -noforcemaccel -noforcemspd
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// FPS cap
// ----------------------------------------------------------------------------
// The primary benefit of an FPS cap is to make the FPS more stable, other than
// that, it doesn't do a lot. A moderate, consistent framerate is much more
// desirable than a variable but sometimes high framerate. A common
// misconception is that if any more frames are generated than your monitor can
// display, they are useless. This is wrong -- frames are used for much more
// than mere display, and affect the way the game feels well past your
// refresh rate.
//
// This FPS cap should *always* be set to a value higher than `cl_cmdrate' in
// any case, or the discrepancy between clientside frame generation and frames
// to be sent to the server will no doubt cause you many a headache, especially
// when it comes down to hit registration. Other than that, I recommend
// for everyone to use the value `132' (2*66), as long as you can generally
// keep that value stable without regular drops.
// ----------------------------------------------------------------------------
cl_showfps 0 // Show unsmoothed FPS meter
//fps_max 132 // Commented due to 2011-09-02 update causing jittering when fps is capped for some
fps_max 0

// ----------------------------------------------------------------------------
// Net settings
// ----------------------------------------------------------------------------
// Whilst net settings perhaps aren't an integral part of an FPS config, they
// are a fact of life in competitive TF2, and as such, they are included here.
//
// A common question I am asked -- what defines whether a good connection is
// good or bad? Mostly personal preference. If you're not willing to make the
// choice, try both and see which is better for you.
//
// Generally, meeting both of the following conditions would classify it as a
// good connection:
//
// - Ping of <80 to the average server you join
// - Generally no/negligible choke/loss (can be checked with `net_graph')
//
// There's some pretty good documentation on this here:
// http://developer.valvesoftware.com/wiki/Source_Multiplayer_Networking
//
// Uncomment (remove the `//' from) one of the groups if you want to use them.
// ----------------------------------------------------------------------------

// LAN
//cl_cmdrate 66
//cl_interp 0 // We let cl_interp_ratio do the limiting, this just sets it to
              // the minimum available.
//cl_interp_ratio 0
//cl_lagcompensation 0
//cl_pred_optimize 2
//cl_smooth 0
//cl_smoothtime 0.01
//cl_updaterate 66
//rate 60000

// Good connection
//cl_cmdrate 66
//cl_interp 0
//cl_interp_ratio 1
//cl_lagcompensation 1
//cl_pred_optimize 2
//cl_smooth 0
//cl_smoothtime 0.01
//cl_updaterate 66
//rate 60000

// Bad connection
//cl_cmdrate 40
//cl_interp 0
//cl_interp_ratio 2
//cl_lagcompensation 1
//cl_pred_optimize 2
//cl_smooth 0
//cl_smoothtime 0.01
//cl_updaterate 40
//rate 35000

// ----------------------------------------------------------------------------
// Sprays
// ----------------------------------------------------------------------------
// Bear in mind that these are disabled on war servers due to `sv_pure 2'
// anyway, so if you play competitive TF2, this won't help you.
// ----------------------------------------------------------------------------

// Disable sprays
cl_playerspraydisable 1
r_spray_lifetime 0

// Enable sprays -- uncomment this section if you want these settings
//cl_playerspraydisable 0
//r_spray_lifetime 2

// ----------------------------------------------------------------------------
// Shadows
// ----------------------------------------------------------------------------

r_shadowmaxrendered 32
r_shadowrendertotexture 1
r_shadows 1
r_pixelvisibility_partial 0
r_worldlightmin 0.9
r_worldlights 0

// ----------------------------------------------------------------------------
// Facial features
// ----------------------------------------------------------------------------

r_eyes 1
r_eyemove 1
r_flex 1 
flex_rules 1 
r_lod 0
r_rootlod 0
r_teeth 1

// ----------------------------------------------------------------------------
// Gibs
// ----------------------------------------------------------------------------
// You will have reduced performance on deaths which produce gibs.
// ----------------------------------------------------------------------------

// Disable gibs
cl_phys_props_enable 0
cl_phys_props_max 0
props_break_max_pieces 0
r_propsmaxdist 1
violence_agibs 0
violence_hgibs 0

// Enable gibs -- uncomment this section if you want these settings
//cl_phys_props_enable 1
//cl_phys_props_max 128
//props_break_max_pieces -1
//r_propsmaxdist 1000
//violence_agibs 1
//violence_hgibs 1

// ----------------------------------------------------------------------------
// Graphical
// ----------------------------------------------------------------------------
// Now we come to the main brunt of the config. You probably don't want to mess
// with this.
// ----------------------------------------------------------------------------

tf_particles_disable_weather 1 // Disable weather effects on maps supporting
                               // it, for example, setting this to `1'
                               // disables rain effects on *_sawmill.
tracer_extra 0
violence_ablood 0
violence_hblood 0
anim_3wayblend 1

// ----------------------------------------------------------------------------
// Misc
// ----------------------------------------------------------------------------
in_usekeyboardsampletime 0
mat_clipz 1 // FX card users should set this to 0
mat_forcehardwaresync 0
mat_levelflush 1
//m_rawinput 1 // Turn on raw mouse input. Commented out by default due to
               // silly incompatibility with the Xfire overlay. You should use
               // it if you can!
mat_vsync 0 // Turn off vsync to avoid nasty I/O latency.
r_fastzreject -1 // Values >1 enable a fast Z rejection algorithm, to be
                 // performed on the GPU (as opposed to on the CPU). The
                 // value `-1' autodetects hardware support for this
                 // feature, which is safer than forcing it.

// ----------------------------------------------------------------------------
// Sound
// ----------------------------------------------------------------------------
// I'd be hesitant to say that you would see a great deal of performance
// improvement from lowering the sound quality, but in my experience as a
// competitive TF2 player, lowering the sound quality makes determination of
// directionality and distance that much easier. You may see a small FPS gain
// with these settings, or you may not, either way will likely have a
// negligible effect on performance.
// ----------------------------------------------------------------------------
dsp_enhance_stereo 0
dsp_slow_cpu 1
snd_async_fullyasync 1 // Having the sound run fully asynchronous has been
                       // helpful in the past, as it seems to (for whatever
                       // reason) reduce the number of TDRs experienced during
                       // gameplay. There's some pretty good information on
                       // TDRs (nerds only) here:
                       // http://forums.nvidia.com/index.php?showtopic=65161
snd_pitchquality 0
snd_spatialize_roundrobin 1

// ----------------------------------------------------------------------------
// Threading
// ----------------------------------------------------------------------------
r_rootlod 0
r_lod 0
lod_TransitionDist 800
r_ambientboost 1
r_ambientmin 0.6
r_rimlight 1
r_lightaverage 1
r_dynamic 1
r_maxdlights 17
r_worldlightmin 0.0002 
r_worldlights 4
mat_disable_lightwarp 0 
mat_filterlightmaps 1
mat_reducefillrate 0
mat_phong 1
r_shadowrendertotexture 1
cl_blobbyshadows 0
r_flashlightdepthtexture 1
r_flashlightdepthres 1024
r_flashlightrender 1
r_shadowmaxrendered 32
tracer_extra 1
r_drawtracers_firstperson 1
cl_show_splashes 1
cl_fasttempentcollision 10
r_ForceWaterLeaf 1 
r_particle_sim_spike_threshold_ms 0 
cl_particle_batch_mode 1
tf_particles_disable_weather 0
mat_reduceparticles 0
cl_new_impact_effects 1
r_drawflecks 1
building_cubemaps 0 
mat_postprocess_x 4 
mat_postprocess_y 4 
mat_hdr_level 3 
mat_postprocessing_combine 1
mat_motion_blur_enabled 0
mat_alphacoverage 1
mat_software_aa_strength 1
mat_software_aa_strength_vgui 1
mat_software_aa_quality 1
mat_software_aa_edge_threshold 0.5
mat_software_aa_blur_one_pixel_lines 0.5
mat_postprocessing_combine 1
mat_antialias 8; mat_aaquality 2
mat_trilinear 1; mat_forceaniso 16
r_glint_procedural 0 
r_flex 1 
flex_rules 1 
anim_3wayblend 1
ai_expression_optimization 0
r_teeth 1
flex_smooth 1
r_eyes 1 
r_eyemove 1
tf_clientsideeye_lookats 1 
blink_duration 0.2
phonemefilter 0.08
phonemesnap 7
r_decals 2048
mp_decals 2048
r_decal_cullsize 5
r_decal_cover_count 8
r_decal_overlap_area 1.0 
r_decal_overlap_count 8
r_drawbatchdecals 1
r_drawmodeldecals 1 
r_maxmodeldecal 32
r_overlayfadeenable 1
r_overlayfademax 2000
r_overlayfademin 1750
r_renderoverlayfragment 1
r_decalstaticprops 0 
cl_phys_props_enable 0 
r_PhysPropStaticLighting 1 
cl_detaildist 3000
cl_detailfade 100
r_decalstaticprops 1
cl_phys_props_enable 1
cl_phys_props_max 300
cl_phys_props_respawndist 1500 
cl_phys_props_respawnrate 60
r_propsmaxdist 3000
r_drawdetailprops 1
r_staticprop_lod 0
mat_viewportscale 1 
mat_viewportupscale 1 
r_3dsky 1
r_dopixelvisibility 1 
r_pixelvisibility_partial 0 
cl_jiggle_bone_framerate_cutoff 67
cl_jiggle_bone_framerate_cutoff 1
mat_filtertextures 1
mat_picmip -1
mat_disable_fancy_blending 0
mat_bumpmap 1
mat_specular 1
rope_rendersolid 1
r_ropetranslucent 1
rope_smooth 1
rope_subdiv 7
rope_collide 1
rope_wind_dist 1000
rope_averagelight 1
fps_max 240 
mat_vsync 0 
engine_no_focus_sleep 0 
r_fastzreject 1 
r_occlusion 1 
r_occludeemaxarea 1 
r_occluderminarea 10 
mat_tonemapping_occlusion_use_stencil 0 
host_flush_threshold 0 
r_norefresh 1 
fast_fogvolume 1 
sv_alternateticks 0 
mod_offline_hdr_switch 1
cl_ejectbrass 0

// ----------------------------------------------------------------------------
// Transparent Viewmodels
// ----------------------------------------------------------------------------

mat_motion_blur_enabled 1 			//afaik the only sure-fire way to keep refract masking on
mat_motion_blur_strength 0 			//effectively disables motion blur, personal choice + motion blur gets masked and looks bad with refract masking
mat_disable_bloom 1 				//disables bloom so refract masking doesn't create a dark rectangle over light materials
mat_hdr_level 0
mat_colcorrection_disableentities 1
mat_colorcorrection 0

// ----------------------------------------------------------------------------
// Misc
// ----------------------------------------------------------------------------
tf_use_min_viewmodels 1 
cl_forcepreload 1 // Force preloading

// ----------------------------------------------------------------------------
// Print to console
// ----------------------------------------------------------------------------
echo "-------------------------------------------------------"
echo "            Chris' highframes config loaded.            "
echo "-------------------------------------------------------"
echo "Please direct all comments/queries/whatnot to"
echo "#christf2 on QuakeNet."